{"version":3,"file":"project.js","sourceRoot":"","sources":["../../../src/bin/utils/project.ts"],"names":[],"mappings":";;;;;AAAA,wDAA0B;AAC1B,gDAAwB;AAEjB,KAAK,UAAU,WAAW,CAAC,aAAqB,EAAE,MAAqB;IAC5E,IAAI,WAAW,CAAC;IAChB,IAAI,MAAM,EAAE;QACV,WAAW,GAAG,0BAAkB,CAAC,MAAM,CAAC,CAAC;KAC1C;SAAM;QACL,MAAM,UAAU,GAAG,0BAAkB,CAAC,aAAa,CAAC,CAAC;QACrD,WAAW,GAAG,cAAI,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;KACjD;IACD,MAAM,aAAa,GAAG,MAAM,kBAAE,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;IACvD,IAAI,CAAC,aAAa,EAAE;QAClB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;KAC5C;SAAM;QACL,OAAO,OAAO,CAAC,WAAW,CAAC,CAAC;KAC7B;AACH,CAAC;AAdD,kCAcC;AAEY,QAAA,kBAAkB,GAAG,CAAC,GAAW,EAAE,EAAE;IAChD,IAAI,GAAG,IAAI,cAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;QAC/B,OAAO,GAAG,CAAC;KACZ;SAAM;QACL,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,OAAO,CAAC,GAAG,EAAE,CAAC;QAClD,OAAO,GAAG,CAAC,CAAC,CAAC,cAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;KACxC;AACH,CAAC,CAAC","sourcesContent":["import fs from 'fs-extra';\nimport path from 'path';\n\nexport async function loadAppJSON(projectDirArg: string, config: string | null) {\n  let appJSONPath;\n  if (config) {\n    appJSONPath = resolveAbsoluteDir(config);\n  } else {\n    const projectDir = resolveAbsoluteDir(projectDirArg);\n    appJSONPath = path.join(projectDir, 'app.json');\n  }\n  const appJSONExists = await fs.pathExists(appJSONPath);\n  if (!appJSONExists) {\n    throw new Error(`Couldn't find app.json.`);\n  } else {\n    return require(appJSONPath);\n  }\n}\n\nexport const resolveAbsoluteDir = (dir: string) => {\n  if (dir && path.isAbsolute(dir)) {\n    return dir;\n  } else {\n    const cwd = process.env.INIT_CWD || process.cwd();\n    return dir ? path.join(cwd, dir) : cwd;\n  }\n};\n"]}