{"version":3,"file":"ios.test.js","sourceRoot":"","sources":["../../../src/jobsSchemas/__tests__/ios.test.ts"],"names":[],"mappings":";;;;;AAAA,iDAAkD;AAElD,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,EAAE,CAAC,gEAAgE,EAAE,GAAG,EAAE;QACxE,MAAM,GAAG,GAAG;YACV,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE;gBACN,SAAS,EAAE,WAAW;gBACtB,cAAc,EAAE,SAAS;gBACzB,gBAAgB,EAAE,sBAAsB;aACzC;YACD,cAAc,EAAE,uBAAuB;SACxC,CAAC;QACF,MAAM,CAAC,GAAG,EAAE;YACV,QAAQ,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uEAAuE,EAAE,GAAG,EAAE;QAC/E,MAAM,GAAG,GAAG;YACV,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE;gBACN,SAAS,EAAE,SAAS;gBACpB,cAAc,EAAE,SAAS;gBACzB,gBAAgB,EAAE,sBAAsB;aACzC;YACD,cAAc,EAAE,uBAAuB;SACxC,CAAC;QACF,MAAM,CAAC,GAAG,EAAE;YACV,QAAQ,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,MAAM,QAAQ,GAAG,CAAC,GAAQ,EAAE,EAAE;IAC5B,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,aAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IACpD,IAAI,KAAK,EAAE;QACT,MAAM,KAAK,CAAC;KACb;SAAM;QACL,OAAO,KAAK,CAAC;KACd;AACH,CAAC,CAAC","sourcesContent":["import iosJobSchema from 'turtle/jobsSchemas/ios';\n\ndescribe('iOS job schema', () => {\n  it('allows for empty credentials object when buildType = simulator', () => {\n    const job = {\n      platform: 'ios',\n      config: {\n        buildType: 'simulator',\n        releaseChannel: 'default',\n        bundleIdentifier: 'com.swm.expo.testapp',\n      },\n      experienceName: '@dsokal-local/testapp',\n    };\n    expect(() => {\n      validate(job);\n    }).not.toThrow();\n  });\n\n  it('doesn\\'t allows for empty credentials object when buildType = archive', () => {\n    const job = {\n      platform: 'ios',\n      config: {\n        buildType: 'archive',\n        releaseChannel: 'default',\n        bundleIdentifier: 'com.swm.expo.testapp',\n      },\n      experienceName: '@dsokal-local/testapp',\n    };\n    expect(() => {\n      validate(job);\n    }).toThrow(/\"credentials\" is required/);\n  });\n});\n\nconst validate = (obj: any) => {\n  const { error, value } = iosJobSchema.validate(obj);\n  if (error) {\n    throw error;\n  } else {\n    return value;\n  }\n};\n"]}