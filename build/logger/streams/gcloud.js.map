{"version":3,"file":"gcloud.js","sourceRoot":"","sources":["../../../src/logger/streams/gcloud.ts"],"names":[],"mappings":";;;;;AAAA,0DAAmC;AAEnC,+BAA+B;AAC/B,iEAAiE;AACjE,2CAA2C;AAC3C,MAAM,EAAE,aAAa,EAAE,GAAG,OAAO,CAAC,8BAA8B,CAAC,CAAC;AAElE,SAAwB,MAAM;IAC5B,IAAI,CAAC,gBAAM,CAAC,MAAM,CAAC,WAAW,EAAE;QAC9B,OAAO,IAAI,CAAC;KACb;IAED,MAAM,YAAY,GAAG,IAAI,aAAa,CAAC;QACrC,IAAI,EAAE,QAAQ;QACd,QAAQ,EAAE;YACR,IAAI,EAAE,cAAc;YACpB,MAAM,EAAE;gBACN,OAAO,EAAE,gBAAM,CAAC,QAAQ;gBACxB,QAAQ,EAAE,EAAE;gBACZ,SAAS,EAAE,EAAE;aACd;SACF;KACF,CAAC,CAAC;IACH,OAAO;QACL,KAAK,EAAE,gBAAM,CAAC,MAAM,CAAC,KAAK;QAC1B,IAAI,EAAE,KAAK;QACX,MAAM,EAAE,YAAY;KACrB,CAAC;AACJ,CAAC;AArBD,yBAqBC","sourcesContent":["import config from 'turtle/config';\n\n// type error when using import\n// https://github.com/googleapis/nodejs-logging-bunyan/issues/241\n// tslint:disable-next-line:no-var-requires\nconst { LoggingBunyan } = require('@google-cloud/logging-bunyan');\n\nexport default function create() {\n  if (!config.google.credentials) {\n    return null;\n  }\n\n  const gcloudStream = new LoggingBunyan({\n    name: 'turtle',\n    resource: {\n      type: 'generic_node',\n      labels: {\n        node_id: config.hostname,\n        location: '', // default value\n        namespace: '', // default value\n      },\n    },\n  });\n  return {\n    level: config.logger.level,\n    type: 'raw',\n    stream: gcloudStream,\n  };\n}\n"]}