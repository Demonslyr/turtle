{"version":3,"file":"validator.js","sourceRoot":"","sources":["../src/validator.ts"],"names":[],"mappings":";;;;;;;;;AAAA,uDAA8C;AAEvC,KAAK,UAAU,WAAW,CAAC,GAAQ;IACxC,MAAM,MAAM,GAAI,OAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC9C,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC1D;IACD,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;IACtE,IAAI,KAAK,EAAE;QACT,MAAM,KAAK,CAAC;KACb;SAAM;QACL,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAXD,kCAWC","sourcesContent":["import * as schemas from 'turtle/jobsSchemas';\n\nexport async function sanitizeJob(job: any) {\n  const schema = (schemas as any)[job.platform];\n  if (!schema) {\n    throw new Error(`Unsupported platform: ${job.platform}`);\n  }\n  const { error, value } = schema.validate(job, { stripUnknown: true });\n  if (error) {\n    throw error;\n  } else {\n    return value;\n  }\n}\n"]}